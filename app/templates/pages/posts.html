{% extends 'base.html' %}

{% block title %}blog{% endblock %}

{% block content %}
<div class="container mt-4">

    <h1 class="text-center mb-4">Selamat datang di halaman Blog-BOOK</h1>
    
    <div class="row">
        {% for post in profile.posts %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <img src="{{ url_for('static', filename='uploads/' + (post.gambar if post.gambar else 'img/imegenone.jpg')) }}" 
                         class="card-img-top" 
                         alt="Post Image" 
                         style="height: 200px; object-fit: cover;">
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="{{ url_for('main.post_detail_route', post_id=post.id) }}">{{ post.title }}</a>
                        </h5>
                        <p class="card-text">{{ post.content | safe | truncate(100) }}</p>
                    </div>
                    <div class="card-footer">
                        <small class="text-muted" style="color: white;">
                            <p style="display: inline;">Penulis:</p> <a href="{{ url_for('main.author_route', username=post.username) }}">{{ post.username }}</a> | <p style="display: inline;">Kategori:</p> <a href="{{ url_for('main.category_route', category_name=post.category_name) }}">{{ post.category_name }}</a>
                        </small>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    
</div>
{% endblock %}
